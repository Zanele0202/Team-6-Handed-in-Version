<p>
    <mat-toolbar>
        <span class="blue">Category</span>
        <span class="example-spacer"></span>


        <div class="input-group w-50">
            <input type="text" class="form-control" placeholder="Search for category" #searchText [(ngModel)]="keywords">
            <div class="input-group-append">
                <span class="input-group-text"><mat-icon>search</mat-icon></span>
            </div>
        </div>


    </mat-toolbar>
</p>


<div class="container-fluid">

    <table class="table table-hover table-bordered">
        <thead class="">
            <tr>

                <th colspan="5"> <button type="button" routerLink="/add-category" class="btn btn-primary float-right">Create Category</button>
                </th>
            </tr>

        </thead>
        <thead class="thead-dark">
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Description</th>
                <th>Update</th>
                <th>Delete</th>

            </tr>
        </thead>


        <tr *ngFor="let category of categories |filter:keywords">
            <td [innerHTML]="category.Category_Id | highlight:keywords"></td>
            <td [innerHTML]="category.Category_Name | highlight:keywords"></td>
            <td [innerHTML]="category.Category_Description | highlight:keywords"></td>

            <!-- <td>{{category.Category_Name}}</td>
            <td>{{category.Category_Description}}</td> -->
            <td>
                <button type="button" class="btn btn-primary" (click)="updateCategory(category.Category_Id)"><mat-icon>edit</mat-icon></button>
            </td>
            <td>
                <button type="button" class="btn btn-danger" (click)="confirmDelete(category.Category_Id)"><mat-icon>delete</mat-icon></button>
            </td>
        </tr>


    </table>


</div>


<ng-template #confirmDeletion let-modal>
    <div class="modal-header alert alert-warning">
        <h3 class="modal-title" style="text-align: center">Warning</h3>
    </div>
    <div class="modal-body">
        <div class="form-group">
            <label for="exampleFormControlInput1">Are you sure you want to delete this category?</label
>
        </div>
    </div>
    <div class="modal-footer">
        <div class="row">
            <div class="col-6">
                <button type="button" class="btn btn-primary" (click)="deleteCategory()">Yes</button>
            </div>
            <div class="col-6 ">
                <button type="button" class="btn btn-danger" (click)="modal.dismiss()">No</button>
            </div>
        </div>
    </div>
</ng-template>

<ng-template #success let-modal>
    <div class="modal-header alert alert-success">
        <h3 class="modal-title text-center" style="text-align: center">Success</h3>
    </div>
    <div class="modal-body">
        <div class="form-group">
            <label for="exampleFormControlInput1">The category has been successfully deleted!</label>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" ngbAutofocus class="btn btn-primary" (click)="modal.dismiss()">
Ok
</button>
    </div>
</ng-template>